<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A.M.G. Bakery & Cafe - Fresh baked goods and pastries" />
  <title>A.M.G. Bakery & Cafe</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script defer src="script.js"></script>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo" id="logo-area">
        <div class="logo-placeholder" id="logo-display">AMG</div>
        <div>
          <div style="color:var(--accent);font-weight:700">A.M.G.</div>
          <div class="logo-label">Bakery & Cafe</div>
        </div>
      </div>

      <nav class="site-nav" aria-label="Main navigation">
        <a href="#home">Home</a>
        <a href="#cakes">Cakes</a>
        <a href="#basic-items">Products</a>
        <a href="#gallery">Gallery</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#order">Order</a>
      </nav>

      <input type="text" id="search-input" placeholder="ğŸ” Search cakes, products..." style="padding:0.6rem 1rem;border:none;border-radius:6px;width:200px;margin-right:0.8rem;font-size:0.9rem">

      <button id="loyalty-btn" style="display:none;background:var(--accent);color:var(--primary);border:none;padding:0.6rem 1rem;border-radius:6px;cursor:pointer;font-weight:600;margin-right:0.5rem">â­ Points</button>

      <button id="auth-btn" class="cart-btn" onclick="openLoginModal()" style="margin-right:0.5rem">ğŸ‘¤ Login</button>

      <button id="signup-btn" class="cart-btn" onclick="openRegisterModal()" style="margin-right:0.5rem;background:var(--accent);color:var(--primary)">ğŸ“ Sign Up</button>

      <button id="admin-btn" class="cart-btn" onclick="openAdminModal()" style="margin-right:0.5rem;display:none;background:#9333EA;color:white">âš™ï¸ Admin</button>

      <button class="cart-btn" id="cart-btn" aria-label="Open cart">ğŸ›’ Cart (<span id="cart-count">0</span>)</button>
    </div>
  </header>

  <!-- AUTH MODAL (Login/Register) -->
  <div class="modal" id="auth-modal">
    <div class="modal-content" style="max-width:450px">
      <span class="modal-close" onclick="document.getElementById('auth-modal').classList.remove('active')">&times;</span>
      <h3>Login to Your Account</h3>
      
      <!-- LOGIN FORM -->
      <div id="login-form">
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Email *</span>
          <input type="email" id="login-email" placeholder="your@email.com" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:1.5rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Password *</span>
          <input type="password" id="login-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <div style="display:flex;gap:0.5rem;margin-bottom:1rem">
          <button class="btn primary" style="flex:1" onclick="doLogin()">Login</button>
          <button class="btn outline" style="flex:1" onclick="openRegisterModal()">Create Account</button>
        </div>
        <div style="display:flex;gap:1rem;font-size:0.9rem">
          <a href="#" onclick="openForgotPasswordModal();return false" style="color:var(--accent);text-decoration:none">Forgot password?</a>
          <span style="color:var(--muted)">|</span>
          <a href="#" onclick="openRegisterModal();return false" style="color:var(--accent);text-decoration:none">Don't have account?</a>
        </div>
      </div>
      
      <!-- REGISTER FORM -->
      <div id="register-form" style="display:none">
        <label style="display:block;margin-bottom:0.8rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Full Name *</span>
          <input type="text" id="register-name" placeholder="John Doe" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:0.8rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Phone *</span>
          <input type="tel" id="register-phone" placeholder="9841234567" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:0.8rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Email *</span>
          <input type="email" id="register-email" placeholder="your@email.com" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:0.8rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Password *</span>
          <input type="password" id="register-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:0.8rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Delivery Address</span>
          <textarea id="register-address" rows="2" placeholder="Your delivery address" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit"></textarea>
        </label>
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Birthday (for birthday rewards!)</span>
          <input type="date" id="register-birthday" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <div style="display:flex;gap:0.5rem">
          <button class="btn primary" style="flex:1" onclick="doRegister()">Create Account</button>
          <button class="btn outline" style="flex:1" onclick="openLoginModal()">Back to Login</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FORGOT PASSWORD MODAL -->
  <div class="modal" id="forgot-password-modal">
    <div class="modal-content" style="max-width:450px">
      <span class="modal-close" onclick="document.getElementById('forgot-password-modal').classList.remove('active')">&times;</span>
      <h3>Reset Your Password</h3>
      
      <div id="forgot-step1" style="display:block">
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Email Address *</span>
          <input type="email" id="forgot-email" placeholder="your@email.com" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <button class="btn primary" style="width:100%" onclick="verifyEmailForPassword()">Find Account</button>
        <p style="text-align:center;margin-top:1rem;color:var(--muted);font-size:0.9rem">
          <a href="#" onclick="openLoginModal();return false" style="color:var(--primary);text-decoration:none">â† Back to Login</a>
        </p>
      </div>

      <div id="forgot-step2" style="display:none">
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Security Question</span>
          <p style="margin:0.3rem 0;color:var(--muted)" id="security-question">What is your mother's maiden name?</p>
        </label>
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Your Answer *</span>
          <input type="text" id="security-answer" placeholder="Enter your answer" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">New Password *</span>
          <input type="password" id="new-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Confirm Password *</span>
          <input type="password" id="confirm-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <button class="btn primary" style="width:100%" onclick="resetPassword()">Reset Password</button>
      </div>
    </div>
  </div>

  <!-- ADMIN MODAL -->
  <div class="modal" id="admin-modal">
    <div class="modal-content" style="max-width:500px">
      <span class="modal-close" onclick="document.getElementById('admin-modal').classList.remove('active')">&times;</span>
      <h3>Admin Login</h3>
      
      <div id="admin-login" style="display:block">
        <label style="display:block;margin-bottom:1rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Admin Email *</span>
          <input type="email" id="admin-email" placeholder="admin@amgbakery.com" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <label style="display:block;margin-bottom:1.5rem">
          <span style="font-weight:600;display:block;margin-bottom:0.3rem">Password *</span>
          <input type="password" id="admin-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
        </label>
        <div style="display:flex;gap:0.5rem">
          <button class="btn primary" style="flex:1" onclick="doAdminLogin()">Login as Admin</button>
          <button class="btn outline" style="flex:1" onclick="document.getElementById('admin-modal').classList.remove('active')">Cancel</button>
        </div>
        <p style="text-align:center;margin-top:1rem;color:var(--muted);font-size:0.9rem">
          Default: admin@amgbakery.com / password123
        </p>
      </div>
    </div>
  </div>

  <!-- EDIT ABOUT MODAL -->
  <div class="modal" id="edit-about-modal">
    <div class="modal-content" style="max-width:800px;max-height:90vh;overflow-y:auto">
      <span class="modal-close" onclick="document.getElementById('edit-about-modal').classList.remove('active')">&times;</span>
      <h3>Edit About Section</h3>
      
      <div style="background:var(--light-bg);padding:1rem;border-radius:6px;margin-bottom:1rem">
        <p style="margin:0;color:var(--muted);font-size:0.9rem">
          ğŸ’¡ <strong>Pro Tip:</strong> You can write anything here! Add opening hours, special offers, team info, etc. HTML is supported for formatting.
        </p>
      </div>

      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">About Content (HTML & Emojis Supported)</span>
        <textarea id="about-text-edit" rows="10" placeholder="Write your about content here..." style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit;font-size:1rem;resize:vertical"></textarea>
      </label>

      <details style="background:var(--light-bg);padding:1rem;border-radius:6px;margin-bottom:1rem">
        <summary style="cursor:pointer;font-weight:600;color:var(--primary)">ğŸ“ Quick Formatting Guide</summary>
        <div style="margin-top:1rem;font-size:0.9rem;color:var(--muted)">
          <p><strong>Headings:</strong> &lt;h3&gt;My Heading&lt;/h3&gt;</p>
          <p><strong>Bold:</strong> &lt;strong&gt;Bold text&lt;/strong&gt;</p>
          <p><strong>Lists:</strong> &lt;ul&gt;&lt;li&gt;Item 1&lt;/li&gt;&lt;li&gt;Item 2&lt;/li&gt;&lt;/ul&gt;</p>
          <p><strong>Links:</strong> &lt;a href="url"&gt;Link text&lt;/a&gt;</p>
          <p><strong>Emojis:</strong> Just type them: ğŸ ğŸ‚ â˜• ğŸ¦ etc.</p>
          <p><strong>Line Break:</strong> &lt;br&gt;</p>
        </div>
      </details>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem">
        <button class="btn primary" onclick="saveAboutChanges()">ğŸ’¾ Save Changes</button>
        <button class="btn outline" onclick="document.getElementById('edit-about-modal').classList.remove('active')">Cancel</button>
      </div>
      
      <p style="color:var(--muted);font-size:0.85rem;text-align:center;margin:0">Changes will appear on your website immediately after saving</p>
    </div>
  </div>

  <!-- ADD/EDIT TESTIMONIAL MODAL -->
  <div class="modal" id="testimonial-modal">
    <div class="modal-content" style="max-width:500px">
      <span class="modal-close" onclick="document.getElementById('testimonial-modal').classList.remove('active')">&times;</span>
      <h3>Add Your Review</h3>
      
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Your Name *</span>
        <input type="text" id="testimonial-name" placeholder="Your name" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>

      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Rating *</span>
        <div style="display:flex;gap:0.5rem;font-size:1.5rem">
          <span style="cursor:pointer" onclick="setRating(1)">â˜†</span>
          <span style="cursor:pointer" onclick="setRating(2)">â˜†</span>
          <span style="cursor:pointer" onclick="setRating(3)">â˜†</span>
          <span style="cursor:pointer" onclick="setRating(4)">â˜†</span>
          <span style="cursor:pointer" onclick="setRating(5)">â˜†</span>
        </div>
        <p style="margin:0.5rem 0;color:var(--accent);font-weight:600" id="rating-display">Select rating</p>
      </label>

      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Your Review *</span>
        <textarea id="testimonial-text" rows="3" placeholder="What did you think about our products?" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit"></textarea>
      </label>

      <button class="btn primary" style="width:100%" onclick="submitTestimonial()">âœ“ Post Review</button>
    </div>
  </div>
  <div class="modal" id="logo-modal">
    <div class="modal-content">
      <span class="modal-close" onclick="document.getElementById('logo-modal').classList.remove('active')">&times;</span>
      <h3>Upload Bakery Logo</h3>
      <p>Choose an image file (PNG, JPG, SVG):</p>
      <input type="file" id="logo-file" accept="image/*" style="width:100%;padding:0.5rem;margin:1rem 0;border:1px solid var(--border);border-radius:6px">
      <button class="btn primary" style="width:100%;margin-top:0.5rem" onclick="saveLogo()">Save Logo</button>
    </div>
  </div>

  <!-- ADD CAKE MODAL -->
  <div class="modal" id="add-cake-modal">
    <div class="modal-content" style="max-width:500px">
      <span class="modal-close" onclick="document.getElementById('add-cake-modal').classList.remove('active')">&times;</span>
      <h3>Add New Cake</h3>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Cake Name *</span>
        <input type="text" id="cake-name" placeholder="e.g., Chocolate Truffle" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Price (Rs) *</span>
        <input type="number" id="cake-price" placeholder="e.g., 500" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Description (Flavor, Size, etc.)</span>
        <textarea id="cake-desc" rows="3" placeholder="e.g., Rich chocolate cake, 1kg, Serves 6-8 people, Chocolate mousse filling" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit"></textarea>
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Cake Photo</span>
        <input type="file" id="cake-photo" accept="image/*" style="width:100%;padding:0.5rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <div style="display:flex;gap:0.5rem">
        <button class="btn primary" style="flex:1" onclick="saveCake()">Add Cake</button>
        <button class="btn outline" style="flex:1" onclick="document.getElementById('add-cake-modal').classList.remove('active')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- ADD PRODUCT MODAL -->
  <div class="modal" id="add-product-modal">
    <div class="modal-content" style="max-width:500px">
      <span class="modal-close" onclick="document.getElementById('add-product-modal').classList.remove('active')">&times;</span>
      <h3>Add New Product</h3>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Product Name *</span>
        <input type="text" id="product-name" placeholder="e.g., Bread, Ice Cream, Coffee" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Price (Rs) *</span>
        <input type="number" id="product-price" placeholder="e.g., 50" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Description (Type, Size, etc.)</span>
        <textarea id="product-desc" rows="3" placeholder="e.g., Fresh white bread, 400g, Best before 24 hours" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit"></textarea>
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Product Photo</span>
        <input type="file" id="product-photo" accept="image/*" style="width:100%;padding:0.5rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <div style="display:flex;gap:0.5rem">
        <button class="btn primary" style="flex:1" onclick="saveProduct()">Add Product</button>
        <button class="btn outline" style="flex:1" onclick="document.getElementById('add-product-modal').classList.remove('active')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- ADD GALLERY PHOTO MODAL -->
  <div class="modal" id="add-gallery-modal">
    <div class="modal-content" style="max-width:500px">
      <span class="modal-close" onclick="document.getElementById('add-gallery-modal').classList.remove('active')">&times;</span>
      <h3>Add Gallery Photo</h3>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Photo Title *</span>
        <input type="text" id="gallery-title" placeholder="e.g., Store Opening Day, Team at Work, New Cake Display" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Description</span>
        <textarea id="gallery-desc" rows="3" placeholder="Tell your story... e.g., Our team celebrating the grand opening of A.M.G. Bakery on a beautiful morning!" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit"></textarea>
      </label>
      <label style="display:block;margin-bottom:1rem">
        <span style="font-weight:600;display:block;margin-bottom:0.3rem">Photo</span>
        <input type="file" id="gallery-photo" accept="image/*" style="width:100%;padding:0.5rem;border:1px solid var(--border);border-radius:6px">
      </label>
      <div style="display:flex;gap:0.5rem">
        <button class="btn primary" style="flex:1" onclick="saveGalleryPhoto()">Add Photo</button>
        <button class="btn outline" style="flex:1" onclick="document.getElementById('add-gallery-modal').classList.remove('active')">Cancel</button>
      </div>
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section id="home" class="hero">
      <div class="container">
        <h1 class="hero-title">A.M.G. Bakery & Cafe</h1>
        <p class="tagline">Freshly Baked Goodness Since Opening</p>
        <p class="contact-line">
          ğŸ“ Pipira chowk, Birendranagar, Surkhet | 
          ğŸ“ <a href="tel:+9779848551921">9848551921</a> / <a href="tel:+9779826542784">9826542784</a>
        </p>
        <div style="margin-top:2rem;display:flex;gap:1rem;justify-content:center;flex-wrap:wrap">
          <a href="#menu" class="btn primary">Browse Menu</a>
          <a href="#order" class="btn outline">Order Now</a>
        </div>
      </div>
    </section>

    <!-- CUSTOM CAKES GALLERY -->
    <section id="cakes" class="section alt-bg">
      <div class="container">
        <h2>ğŸ‚ Custom Cakes Gallery</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:1.5rem">Browse and order custom cakes. Add unlimited cakes with your own photos, prices, and descriptions.</p>
        
        <div style="text-align:center;margin-bottom:2rem">
          <button class="btn primary" onclick="openAddCakeModal()">+ Add New Cake</button>
        </div>
        
        <div id="menu-content" class="grid"></div>
      </div>
    </section>

    <!-- PRODUCTS GALLERY -->
    <section id="basic-items" class="section">
      <div class="container">
        <h2>Other Bakery Products</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:1.5rem">Browse breads, pastries, ice cream, coffee & more. Add unlimited products with your own photos, prices, and descriptions.</p>
        
        <div style="text-align:center;margin-bottom:2rem">
          <button class="btn primary" onclick="openAddProductModal()">+ Add Product</button>
        </div>
        
        <div id="basic-menu-content" class="grid"></div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section">
      <div class="container">
        <h2 style="text-align:center">About A.M.G. Bakery & Cafe</h2>
        <p style="color:var(--muted);text-align:center;font-size:0.9rem" id="admin-edit-hint"></p>
        
        <div style="max-width:800px;margin:2rem auto;line-height:1.8;font-size:1.05rem;color:var(--muted);background:var(--light-bg);padding:2rem;border-radius:8px" id="about-content">
          <p>Welcome to <strong style="color:var(--text)">A.M.G. Bakery & Cafe</strong>, your trusted destination for freshly baked goodness. We specialize in a wide variety of bakery items tailored to your needs:</p>
          <ul style="list-style:none;padding:0;margin:1rem 0">
            <li style="margin:0.5rem 0">ğŸ <strong>Breads & Buns</strong> â€” Fresh, soft, and delicious daily</li>
            <li style="margin:0.5rem 0">ğŸ§ <strong>Pastries & Donuts</strong> â€” Variety of flavors and styles</li>
            <li style="margin:0.5rem 0">ğŸ‚ <strong>Cakes</strong> â€” Birthday, celebration, and custom orders</li>
            <li style="margin:0.5rem 0">â˜• <strong>Coffee & Tea</strong> â€” Premium beverages</li>
            <li style="margin:0.5rem 0">ğŸ¦ <strong>Ice Cream</strong> â€” Seasonal flavors</li>
          </ul>
          <p style="margin-top:2rem"><strong>Our Promise:</strong> Quality ingredients, freshness, and friendly service in every bite. Open whenever you need us!</p>
        </div>

        <div style="text-align:center;margin-top:2rem">
          <button id="edit-about-btn" class="btn primary" onclick="openEditAboutModal()" style="display:none">âœï¸ Edit About Section</button>
        </div>
      </div>
    </section>

    <!-- QUICK WINS: TODAY'S SPECIAL -->
    <section id="today-special" class="section" style="background:linear-gradient(135deg, var(--primary), var(--accent));">
      <div class="container" style="text-align:center;color:white">
        <h2 style="color:white;margin:0.5rem 0">ğŸ”¥ Today's Special</h2>
        <p style="margin:0.5rem 0;font-size:1.1rem;opacity:0.95" id="special-offer">Chocolate Cake 30% OFF - Limited Time Only!</p>
        <button class="btn primary" onclick="document.getElementById('cakes').scrollIntoView({behavior:'smooth'})" style="margin-top:1rem;background:white;color:var(--primary)">Browse Cakes â†’</button>
      </div>
    </section>

    <!-- QUICK WINS: POPULAR ITEMS -->
    <section id="popular-items" class="section alt-bg">
      <div class="container">
        <h2>â­ Popular Items</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:1.5rem">Most loved by our customers</p>
        <div class="grid" id="popular-grid"></div>
      </div>
    </section>

    <!-- QUICK WINS: TESTIMONIALS -->
    <section id="testimonials" class="section">
      <div class="container">
        <h2>ğŸ’¬ What Our Customers Say</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:2rem">Real reviews from real customers</p>
        
        <div style="text-align:center;margin-bottom:2rem">
          <button class="btn primary" onclick="openTestimonialModal()">â­ Add Your Review</button>
        </div>
        
        <div class="grid" id="testimonials-grid">
          <!-- Testimonials will be populated here -->
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="section alt-bg">
      <div class="container">
        <h2>ğŸ“¸ Gallery</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:1.5rem">Share your bakery story with photos and captions. Add unlimited gallery photos.</p>
        
        <div style="text-align:center;margin-bottom:2rem">
          <button class="btn primary" onclick="openAddGalleryModal()">+ Add Gallery Photo</button>
        </div>
        
        <div class="gallery" id="gallery-grid"></div>
      </div>
    </section>

    <!-- USER PROFILE PAGE -->
    <section id="profile-page" class="section alt-bg" style="display:none">
      <div class="container">
        <h2>ğŸ‘¤ My Account</h2>
        
        <div style="max-width:900px;margin:2rem auto">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:2rem">
            
            <!-- LEFT: Profile Info -->
            <div>
              <div style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1)">
                <h3 style="color:var(--primary);margin-top:0">Account Details</h3>
                <div style="margin-bottom:1rem">
                  <span style="color:var(--muted);font-size:0.9rem">Full Name</span>
                  <p style="margin:0.3rem 0;font-weight:600" id="profile-name">-</p>
                </div>
                <div style="margin-bottom:1rem">
                  <span style="color:var(--muted);font-size:0.9rem">Email</span>
                  <p style="margin:0.3rem 0;font-weight:600" id="profile-email">-</p>
                </div>
                <div style="margin-bottom:1rem">
                  <span style="color:var(--muted);font-size:0.9rem">Phone</span>
                  <p style="margin:0.3rem 0;font-weight:600" id="profile-phone">-</p>
                </div>
                <div style="margin-bottom:1rem">
                  <span style="color:var(--muted);font-size:0.9rem">Member Since</span>
                  <p style="margin:0.3rem 0;font-weight:600" id="profile-joined">-</p>
                </div>
              </div>
            </div>

            <!-- RIGHT: Loyalty & Stats -->
            <div>
              <div style="background:linear-gradient(135deg, var(--primary), var(--accent));padding:1.5rem;border-radius:8px;color:white;margin-bottom:1rem">
                <div style="font-size:0.9rem;opacity:0.9">Total Loyalty Points</div>
                <div style="font-size:2.5rem;font-weight:700;margin:0.5rem 0" id="profile-points">0</div>
                <div style="font-size:0.85rem;opacity:0.85">1 point = Rs 100 spent</div>
              </div>

              <div style="background:white;padding:1rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);margin-bottom:1rem">
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem">
                  <div>
                    <span style="color:var(--muted);font-size:0.85rem">Total Orders</span>
                    <p style="margin:0.3rem 0;font-size:1.5rem;font-weight:700;color:var(--primary)" id="profile-order-count">0</p>
                  </div>
                  <div>
                    <span style="color:var(--muted);font-size:0.85rem">Total Spent</span>
                    <p style="margin:0.3rem 0;font-size:1.5rem;font-weight:700;color:var(--primary)" id="profile-total-spent">Rs 0</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Profile Section -->
          <div style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);margin-top:1.5rem">
            <h3 style="color:var(--primary);margin-top:0">Edit Profile</h3>
            
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem">
              <label>
                <span style="font-weight:600;display:block;margin-bottom:0.3rem">Phone</span>
                <input type="tel" id="profile-phone-edit" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
              </label>
              <label>
                <span style="font-weight:600;display:block;margin-bottom:0.3rem">Birthday</span>
                <input type="date" id="profile-birthday-edit" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px">
              </label>
            </div>

            <label>
              <span style="font-weight:600;display:block;margin-bottom:0.3rem">Delivery Address</span>
              <textarea id="profile-address-edit" rows="2" style="width:100%;padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-family:inherit;margin-bottom:1rem"></textarea>
            </label>

            <button class="btn primary" onclick="saveProfileChanges()" style="margin-right:0.5rem">ğŸ’¾ Save Changes</button>
            <button class="btn outline" onclick="goToOrderHistory()">ğŸ“‹ View Order History</button>
            <button class="btn outline" onclick="doLogoutAndReload()" style="float:right">ğŸšª Logout</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ORDER HISTORY PAGE -->
    <section id="order-history-page" class="section" style="display:none">
      <div class="container">
        <h2>ğŸ“‹ Order History</h2>
        <div style="max-width:1000px;margin:2rem auto">
          <button class="btn outline" onclick="goToProfile()" style="margin-bottom:1.5rem">â† Back to Profile</button>
          
          <div id="orders-list"></div>
        </div>
      </div>
    </section>

    <!-- ADMIN DASHBOARD PAGE -->
    <section id="admin-dashboard" class="section" style="display:none">
      <div class="container">
        <h2>âš™ï¸ Admin Dashboard</h2>
        <div style="max-width:1200px;margin:2rem auto">
          <button class="btn outline" onclick="doAdminLogout()" style="margin-bottom:1.5rem;float:right">ğŸšª Logout</button>
          <div style="clear:both"></div>

          <!-- Admin Tabs -->
          <div style="display:flex;gap:0.5rem;margin-bottom:2rem;flex-wrap:wrap">
            <button class="btn primary" onclick="showAdminTab('overview')" id="tab-overview">ğŸ“Š Overview</button>
            <button class="btn outline" onclick="showAdminTab('testimonials')" id="tab-testimonials">ğŸ’¬ Testimonials</button>
            <button class="btn outline" onclick="showAdminTab('popular')" id="tab-popular">â­ Popular Items</button>
            <button class="btn outline" onclick="showAdminTab('orders')" id="tab-orders">ğŸ“‹ Orders</button>
            <button class="btn outline" onclick="showAdminTab('customers')" id="tab-customers">ğŸ‘¥ Customers</button>
            <button class="btn outline" onclick="showAdminTab('sales')" id="tab-sales">ğŸ’° Sales</button>
          </div>

          <!-- OVERVIEW TAB -->
          <div id="admin-overview" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:block">
            <h3 style="color:var(--primary);margin-top:0">Dashboard Overview</h3>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem">
              <div style="background:linear-gradient(135deg, var(--primary), var(--accent));color:white;padding:1.5rem;border-radius:8px">
                <div style="font-size:0.9rem;opacity:0.9">Total Orders</div>
                <div style="font-size:2rem;font-weight:700" id="admin-total-orders">0</div>
              </div>
              <div style="background:linear-gradient(135deg, var(--accent), #78350F);color:white;padding:1.5rem;border-radius:8px">
                <div style="font-size:0.9rem;opacity:0.9">Registered Customers</div>
                <div style="font-size:2rem;font-weight:700" id="admin-total-customers">0</div>
              </div>
              <div style="background:linear-gradient(135deg, #78350F, var(--primary));color:white;padding:1.5rem;border-radius:8px">
                <div style="font-size:0.9rem;opacity:0.9">Newsletter Subscribers</div>
                <div style="font-size:2rem;font-weight:700" id="admin-total-subscribers">0</div>
              </div>
              <div style="background:linear-gradient(135deg, #059669, var(--accent));color:white;padding:1.5rem;border-radius:8px">
                <div style="font-size:0.9rem;opacity:0.9">Total Revenue</div>
                <div style="font-size:2rem;font-weight:700" id="admin-total-revenue">Rs 0</div>
              </div>
            </div>
            <p style="color:var(--muted)">ğŸ‘‰ Use tabs above to manage testimonials, popular items, orders, and customers</p>
          </div>

          <!-- TESTIMONIALS TAB -->
          <div id="admin-testimonials" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:none">
            <h3 style="color:var(--primary);margin-top:0">Manage Testimonials</h3>
            <div id="admin-testimonials-list"></div>
          </div>

          <!-- POPULAR ITEMS TAB -->
          <div id="admin-popular" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:none">
            <h3 style="color:var(--primary);margin-top:0">Mark Items as Popular</h3>
            <p style="color:var(--muted);margin-bottom:1rem">Select items to display in the "Popular Items" section</p>
            <div id="admin-popular-items"></div>
          </div>

          <!-- ORDERS TAB -->
          <div id="admin-orders" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:none">
            <h3 style="color:var(--primary);margin-top:0">Recent Orders</h3>
            <div id="admin-orders-list"></div>
          </div>

          <!-- CUSTOMERS TAB -->
          <div id="admin-customers" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:none">
            <h3 style="color:var(--primary);margin-top:0">Registered Customers</h3>
            <div id="admin-customers-list"></div>
          </div>

          <!-- SALES HISTORY TAB -->
          <div id="admin-sales" style="background:white;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);display:none">
            <h3 style="color:var(--primary);margin-top:0">Sales History</h3>
            <div style="margin-bottom:2rem">
              <p style="color:var(--muted);margin-bottom:1rem">Total Revenue: <span style="font-size:1.3rem;font-weight:700;color:var(--primary)" id="sales-total-revenue">Rs 0</span></p>
              <p style="color:var(--muted);margin-bottom:1rem">Total Items Sold: <span style="font-size:1.3rem;font-weight:700;color:var(--accent)" id="sales-total-items">0</span></p>
            </div>
            <h4 style="color:var(--primary)">Top Selling Items</h4>
            <div id="admin-sales-items"></div>
            <h4 style="color:var(--primary);margin-top:2rem">Recent Sales</h4>
            <div id="admin-sales-history"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="order" class="section">
      <div class="container">
        <h2>Order Online</h2>
        <div class="order-area">
          <!-- CART -->
          <div class="cart">
            <h3>Your Cart</h3>
            <p class="muted" id="empty-cart-msg">Your cart is empty. Add items from the menu.</p>
            <ul id="cart-items" class="cart-list"></ul>
            <div class="cart-summary" id="cart-summary" hidden>
              <p>Subtotal: <strong id="cart-subtotal">Rs 0</strong></p>
            </div>
          </div>

          <!-- ORDER FORM -->
          <form id="order-form" class="order-form">
            <h3>Delivery Details</h3>
            
            <label>
              <span>Full Name *</span>
              <input required type="text" name="name" id="cust-name" placeholder="Your name">
            </label>

            <label>
              <span>Phone Number *</span>
              <input required type="tel" name="phone" id="cust-phone" placeholder="9848551921">
            </label>

            <label>
              <span>Delivery Address</span>
              <textarea name="address" id="cust-address" rows="2" placeholder="(Optional for pickup)"></textarea>
            </label>

            <label>
              <span>Delivery Method *</span>
              <select name="method" id="cust-method" required>
                <option value="delivery">Delivery</option>
                <option value="pickup">Pickup at Shop</option>
              </select>
            </label>

            <h3 style="margin-top:1.5rem">Payment Method *</h3>
            <div class="payment-method">
              <label>
                <input type="radio" name="payment" value="cod" checked>
                ğŸ’° Cash on Delivery (COD)
              </label>
              <p style="margin:0;font-size:0.85rem;color:var(--muted)">Pay when you receive your order</p>
            </div>

            <div class="payment-method" id="cod-fields">
              <p style="font-size:0.85rem;color:var(--accent);margin:0.5rem 0">âœ“ Payment on Delivery</p>
            </div>

            <div class="payment-method">
              <label>
                <input type="radio" name="payment" value="esewa">
                ğŸ“± eSEWA Payment
              </label>
              <p style="margin:0;font-size:0.85rem;color:var(--muted)">Pay via eSEWA mobile wallet</p>
            </div>

            <div class="payment-method" id="esewa-fields" style="display:none;margin-top:0.5rem;padding:1rem;background:var(--light-bg);border-radius:6px">
              <label style="margin-bottom:0.8rem">
                <span style="font-weight:600;font-size:0.9rem">eSEWA Merchant ID</span>
                <input type="text" id="esewa-id" placeholder="9807653211 (optional, provide if needed)" style="width:100%;padding:0.5rem;margin-top:0.3rem;border:1px solid var(--border);border-radius:4px">
              </label>
            </div>

            <div class="payment-method">
              <label>
                <input type="radio" name="payment" value="bank">
                ğŸ¦ Bank Transfer
              </label>
              <p style="margin:0;font-size:0.85rem;color:var(--muted)">Direct bank transfer</p>
            </div>

            <div class="payment-method" id="bank-fields" style="display:none;margin-top:0.5rem;padding:1rem;background:var(--light-bg);border-radius:6px">
              <label style="margin-bottom:0.8rem">
                <span style="font-weight:600;font-size:0.9rem">Bank Name</span>
                <input type="text" id="bank-name" placeholder="e.g., Nabil Bank" style="width:100%;padding:0.5rem;margin-top:0.3rem;border:1px solid var(--border);border-radius:4px">
              </label>
              <label>
                <span style="font-weight:600;font-size:0.9rem">Account Number</span>
                <input type="text" id="bank-account" placeholder="e.g., 012345678" style="width:100%;padding:0.5rem;margin-top:0.3rem;border:1px solid var(--border);border-radius:4px">
              </label>
            </div>

            <label>
              <span>Special Instructions</span>
              <textarea name="notes" id="cust-notes" rows="2" placeholder="e.g., no sugar, extra decorations, gluten-free, etc."></textarea>
            </label>

            <div class="order-actions">
              <button type="button" id="send-order" class="btn primary">Send Order via Email</button>
              <button type="button" id="clear-cart" class="btn outline">Clear Cart</button>
            </div>

            <p class="muted small" style="margin-top:1rem">
              ğŸ“§ Orders will be sent to our email inbox. You can also call us directly: <a href="tel:+9779848551921">9848551921</a>
            </p>
          </form>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section alt-bg">
      <div class="container">
        <h2>Contact & Location</h2>
        
        <div class="contact-info">
          <div>
            <h3>ğŸ“ Location</h3>
            <p><strong>A.M.G. Bakery & Cafe</strong></p>
            <p>Pipira chowk<br>Birendranagar<br>Surkhet</p>
          </div>
          <div>
            <h3>ğŸ“ Contact</h3>
            <p><a href="tel:+9779848551921">+977 9848551921</a></p>
            <p><a href="tel:+9779826542784">+977 9826542784</a></p>
            <p><a href="mailto:ordersamgbakery@gmail.com">ordersamgbakery@gmail.com</a></p>
          </div>
        </div>

        <div class="map-placeholder">
          ğŸ“ <a href="https://maps.google.com/?q=Surkhet,Birendranagar" target="_blank" style="color:var(--accent)">View on Google Maps</a>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container" style="margin-bottom:2rem">
      <h3 style="text-align:center;margin-bottom:1rem">ğŸ“§ Subscribe to Our Newsletter</h3>
      <div style="max-width:500px;margin:0 auto;display:grid;grid-template-columns:1fr auto;gap:0.5rem">
        <input type="email" id="newsletter-email" placeholder="Enter your email" style="padding:0.7rem;border:1px solid var(--border);border-radius:6px;font-size:1rem">
        <button class="btn primary" onclick="subscribeNewsletter()" style="white-space:nowrap">Subscribe</button>
      </div>
      <p style="text-align:center;color:var(--muted);font-size:0.9rem;margin-top:0.5rem">Get weekly special offers, new products, and baking tips!</p>
    </div>

    <div class="container footer-inner">
      <div>
        <strong>A.M.G. Bakery & Cafe</strong><br>
        Pipira chowk, Birendranagar, Surkhet<br>
        <a href="tel:+9779848551921">9848551921</a> / <a href="tel:+9779826542784">9826542784</a>
      </div>
      <div style="text-align:right">
        Â© 2025 A.M.G. Bakery & Cafe<br>
        Made with ğŸ’› for fresh baked goods
      </div>
    </div>
  </footer>

  <script>
    // Pre-fill form for logged-in users
    window.addEventListener('load', ()=>{
      if(currentUser){
        document.getElementById('cust-name').value = currentUser.name;
        document.getElementById('cust-phone').value = currentUser.phone;
        document.getElementById('cust-address').value = currentUser.address;
      }
    });
  </script>
</body>
</html>